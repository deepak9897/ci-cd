<apex:page controller="myOppsController" sidebar="false" id="page">
<script>

function ip()
{

test();

}
</script>
<apex:form id="form" >
    <apex:pageBlock id="block1">
    <apex:actionFunction name="test" action="{!changevalue}" reRender="block1"/>
     <apex:commandButton value="Add"  id="iframes" onclick="ip();"/>
   <apex:iframe src="https://preproduction.newcropaccounts.com/InterfaceV7/rxentry.aspx" id="theFrame" rendered="{!if(flag==true,true,false)}" />
  
     <apex:variable var="i" value="{!0}"/>
       <apex:pageBlockTable value="{!opportunities}" var="acc">
             <apex:column value="{!acc.Name}" style="background:pink;" onclick="ip('{!i}');"/>
           
        </apex:pageBlockTable>
    </apex:pageBlock>
    </apex:form>
</apex:page>